"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[324],{3905:(e,t,r)=>{r.d(t,{Zo:()=>c,kt:()=>m});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},l=Object.keys(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)r=l[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var i=n.createContext({}),u=function(e){var t=n.useContext(i),r=t;return e&&(r="function"==typeof e?e(t):s(s({},t),e)),r},c=function(e){var t=u(e.components);return n.createElement(i.Provider,{value:t},e.children)},p="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},f=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,l=e.originalType,i=e.parentName,c=o(e,["components","mdxType","originalType","parentName"]),p=u(r),f=a,m=p["".concat(i,".").concat(f)]||p[f]||h[f]||l;return r?n.createElement(m,s(s({ref:t},c),{},{components:r})):n.createElement(m,s({ref:t},c))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var l=r.length,s=new Array(l);s[0]=f;var o={};for(var i in t)hasOwnProperty.call(t,i)&&(o[i]=t[i]);o.originalType=e,o[p]="string"==typeof e?e:a,s[1]=o;for(var u=2;u<l;u++)s[u]=r[u];return n.createElement.apply(null,s)}return n.createElement.apply(null,r)}f.displayName="MDXCreateElement"},8164:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>s,default:()=>p,frontMatter:()=>l,metadata:()=>o,toc:()=>u});var n=r(7462),a=(r(7294),r(3905));const l={slug:"change-ssh-port-in-linux-centos",title:"Change SSH Port in Linux CentOS (Oracle Linux 8)",authors:["jhasuraj01"],tags:["linux","ssh","firewalld","semanage"]},s="Change SSH Port in CentOS (Oracle Linux 8)",o={permalink:"/blog/change-ssh-port-in-linux-centos",editUrl:"https://github.com/jhasuraj01/blog/tree/main/blog/2022-12-08-change-ssh-port-in-linux-centos.mdx",source:"@site/blog/2022-12-08-change-ssh-port-in-linux-centos.mdx",title:"Change SSH Port in Linux CentOS (Oracle Linux 8)",description:"On Linux systems, the default SSH port is 22. There are a few reasons",date:"2022-12-08T00:00:00.000Z",formattedDate:"December 8, 2022",tags:[{label:"linux",permalink:"/blog/tags/linux"},{label:"ssh",permalink:"/blog/tags/ssh"},{label:"firewalld",permalink:"/blog/tags/firewalld"},{label:"semanage",permalink:"/blog/tags/semanage"}],readingTime:.71,hasTruncateMarker:!0,authors:[{name:"Suraj Jha",title:"Educator @CodeChef | IT'24 | 4\u2b50 @CodeChef | Knight @Leetcode",url:"https://github.com/jhasuraj01",imageURL:"https://github.com/jhasuraj01.png",key:"jhasuraj01"}],frontMatter:{slug:"change-ssh-port-in-linux-centos",title:"Change SSH Port in Linux CentOS (Oracle Linux 8)",authors:["jhasuraj01"],tags:["linux","ssh","firewalld","semanage"]}},i={authorsImageUrls:[void 0]},u=[{value:"Setup VM Firewall",id:"setup-vm-firewall",level:2},{value:"Setup SSH Config",id:"setup-ssh-config",level:2},{value:"References",id:"references",level:2}],c={toc:u};function p(e){let{components:t,...r}=e;return(0,a.kt)("wrapper",(0,n.Z)({},c,r,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"On Linux systems, the default SSH port is 22. There are a few reasons\nwhy you might want to change this number. This article will walk you\nthrough the process of changing the default ssh port step by step."),(0,a.kt)("h2",{id:"setup-vm-firewall"},"Setup VM Firewall"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"sudo firewall-cmd --state\nsudo su root\n")),(0,a.kt)("p",null,"Update Port 22 to 8080"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"vi /usr/lib/firewalld/services/ssh.xml\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"cp /usr/lib/firewalld/services/ssh.xml /etc/firewalld/services/ssh.xml\nfirewall-cmd --reload\nsystemctl restart network\nsystemctl reload firewalld\n")),(0,a.kt)("h2",{id:"setup-ssh-config"},"Setup SSH Config"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"semanage port -m -t ssh_port_t -p tcp 8080\n")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"vi /etc/ssh/sshd_config\n")),(0,a.kt)("admonition",{title:"Update following values",type:"info"},(0,a.kt)("p",{parentName:"admonition"},"Port 8080")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-bash"},"systemctl restart sshd\n")),(0,a.kt)("h2",{id:"references"},"References"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.digitalocean.com/community/tutorials/how-to-set-up-a-firewall-using-firewalld-on-centos-7"},"How to set up a firewall using firewalld on centos 7")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://www.ionos.com/help/server-cloud-infrastructure/getting-started/important-security-information-for-your-server/changing-the-default-ssh-port/"},"Changing the default ssh port")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://serverfault.com/questions/834195/ssh-fails-after-port-change-on-centos-7"},"SSH fails after port change on centos 7")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"https://serverfault.com/questions/790404/selinux-error-valueerror-port-tcp-5000-already-defined"},"Selinux error valueerror port tcp 5000 already defined"))))}p.isMDXComponent=!0}}]);